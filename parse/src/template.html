<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bootstrap Table Example</title>
  <!-- Bootstrap CSS CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<style>
	pre .table-active {
	  background-color: yellow; /* Change the color as needed */
	}
</style>

</head>
<body>

<div class="container mt-3">
  <h2>Bootstrap Table</h2>
  <div class="container">
    <div class="row">
       <div class="col overflow-scroll">
	       <pre>{{ code }}</pre>
       </div>
       <div class="col overflow-scroll">
	       <table id="lcode" class="table">
		       <thead>
			       <tr>
				       {% for row in header %}
				       <th>{{ row }}</th>
				       {% endfor %}
			       </tr>
		       </thead>
		       <tbody>
			       {% for row in rows %}
			       <tr span_id="{{ row.span_id }}" class="s{{ row.span_id }}">
				       <td>{{ row.pos }}</td>
				       <td>{{ row.next }}</td>
				       <td>{{ row.prev }}</td>
				       <td>{{ row.value }}</td>
				       <td>{{ row.ty }}</td>
				       <td>{{ row.mem }}</td>
				       <td>{{ row.name }}</td>
				       <td>{{ row.span_id }}</td>
				       <td>{{ row.scope_id }}</td>
				       <td>{{ row.block_id }}</td>
				       <td>{{ row.term }}</td>
			       </tr>
			       {% endfor %}
		       </tbody>
	       </table>
	</div>
    </div>
</div>

<!-- Bootstrap JS, Popper.js, and jQuery CDN -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const tableRows = document.querySelectorAll('span, #lcode tr');

  tableRows.forEach(row => {
    row.addEventListener('mouseover', () => {
      const span = row.getAttribute('span_id');
      const className = row.getAttribute('class');
      document.querySelectorAll(`.s${span}`).forEach(row => {
	console.log(row);
        row.classList.add('table-active');
      });
      console.log("enter", span);
    });

    row.addEventListener('mouseout', () => {
      const span = row.getAttribute('span_id');
      const className = row.getAttribute('class');
      document.querySelectorAll(`.s${span}`).forEach(row => {
	console.log(row);
        row.classList.remove('table-active');
      });
      console.log("exit", span);
    });
  });
});
</script>
</body>
</html>
